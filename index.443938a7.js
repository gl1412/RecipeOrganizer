var e=globalThis,t={},n={},r=e.parcelRequire94c2;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequire94c2=r),r.register;var o=r("6FvfU");function i(e){document.getElementById("login-btn").style.display=e?"none":"inline-block",document.getElementById("logout-btn").style.display=e?"inline-block":"none"}async function a(){let e=JSON.parse(localStorage.getItem("email")),t=document.getElementById("recipes");t.innerHTML="";try{let n;n=e?(0,o.query)((0,o.collection)(o.db,"recipes"),(0,o.where)("email","==",e)):(0,o.collection)(o.db,"recipes"),(await (0,o.getDocs)(n)).forEach(n=>{let r=n.data(),o=n.id,i=document.createElement("li");i.innerHTML=`<strong>${r.name}</strong> - ${r.ingredients.join(", ")} (${r.category})`;let a=document.createElement("button");if(a.textContent="â˜…",a.addEventListener("click",()=>{var e,t;let n;return e=o,t=r.name,void((n=JSON.parse(localStorage.getItem("favorites"))||[]).includes(e)?n=n.filter(t=>t!==e):n.push(e),localStorage.setItem("favorites",JSON.stringify(n)),alert(`${t} has been ${n.includes(e)?"added to":"removed from"} favorites!`))}),e){let e=document.createElement("button");e.textContent="Edit",e.addEventListener("click",()=>l(o,r.name,r.ingredients.join(", "),r.category)),i.appendChild(e)}if(e){let e=document.createElement("button");e.textContent="Delete",e.addEventListener("click",()=>c(o)),i.appendChild(e)}i.appendChild(a),t.appendChild(i)})}catch(e){console.error("Error loading recipes:",e)}}async function c(e){if(confirm("Are you sure you want to delete this recipe?"))try{await (0,o.deleteDoc)((0,o.doc)(o.db,"recipes",e)),console.log("Recipe deleted successfully!"),a()}catch(e){console.error("Error deleting recipe:",e)}}async function l(e,t,n,r){let i=prompt("Enter new recipe name:",t),c=prompt("Enter new ingredients (comma-separated):",n),l=prompt("Enter new category:",r);if(i&&c)try{await (0,o.updateDoc)((0,o.doc)(o.db,"recipes",e),{name:i,ingredients:c.split(",").map(e=>e.trim()),category:l}),console.log("Recipe updated successfully!"),a()}catch(e){console.error("Error updating recipe:",e)}else alert("Recipe name and ingredients cannot be empty!")}async function s(e){let t={contents:[{parts:[{text:`You are an AI assistant for a Recipe Organizer app. Answer questions about its functionality and provide suggestions. Question: ${e}`}]}]};try{let e=await fetch(`${o.AI_API_URL}?key=${o.AI_API_KEY}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await e.json();return n.candidates?.[0]?.content?.parts?.[0]?.text||"Sorry, I couldn't answer that."}catch(e){return console.error("Error fetching AI response:",e),"Error fetching response."}}document.addEventListener("DOMContentLoaded",()=>{a(),i(!1)}),document.getElementById("login-btn").addEventListener("click",async()=>{try{let e=await (0,o.signInWithPopup)(o.auth,o.provider);localStorage.setItem("email",JSON.stringify(e.user.email)),console.log("User signed in:",e.user.email),i(!0),a()}catch(e){console.error("Error during login:",e)}}),document.getElementById("logout-btn").addEventListener("click",()=>{(0,o.signOut)(o.auth).then(()=>{localStorage.removeItem("email"),console.log("User signed out"),i(!1),a()}).catch(e=>console.error("Error during logout:",e))}),document.getElementById("chat-send").addEventListener("click",async()=>{let e=document.getElementById("chat-input").value.trim();if(!e)return;let t=await s(e);document.getElementById("chat-messages").innerHTML+=`<p><strong>You:</strong> ${e}</p><p><strong>AI:</strong> ${t}</p>`}),document.addEventListener("DOMContentLoaded",a);
//# sourceMappingURL=index.443938a7.js.map
