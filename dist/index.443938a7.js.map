{"mappings":"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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-6d8e9b5367892104.js","script.js","node_modules/@parcel/runtime-js/lib/runtime-08dc279f5746812a.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire94c2\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire94c2\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"27Lyk\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $18c11f3350a906ea$export$6503ec6e8aabbaf, (v) => $18c11f3350a906ea$export$6503ec6e8aabbaf = v);\nvar $18c11f3350a906ea$export$6503ec6e8aabbaf;\nvar $18c11f3350a906ea$export$f7ad0328861e2f03;\n\"use strict\";\nvar $18c11f3350a906ea$var$mapping = new Map();\nfunction $18c11f3350a906ea$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$18c11f3350a906ea$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $18c11f3350a906ea$var$resolve(id) {\n    var resolved = $18c11f3350a906ea$var$mapping.get(id);\n    if (resolved == null) throw new Error('Could not resolve bundle with id ' + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$18c11f3350a906ea$export$6503ec6e8aabbaf = $18c11f3350a906ea$var$register;\n$18c11f3350a906ea$export$f7ad0328861e2f03 = $18c11f3350a906ea$var$resolve;\n\n});\n\nvar $c66040e91930b99d$exports = {};\n\n(parcelRequire(\"27Lyk\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse(\"[\\\"5SCbD\\\",\\\"index.443938a7.js\\\",\\\"ivUfc\\\",\\\"service-worker.b94753ee.js\\\"]\"));\n\n\nvar $6FvfU = parcelRequire(\"6FvfU\");\n// Login Function (Google Sign-In)\ndocument.getElementById(\"login-btn\").addEventListener(\"click\", async ()=>{\n    try {\n        const result = await (0, $6FvfU.signInWithPopup)((0, $6FvfU.auth), (0, $6FvfU.provider));\n        localStorage.setItem(\"email\", JSON.stringify(result.user.email));\n        console.log(\"User signed in:\", result.user.email);\n        updateUI();\n    } catch (error) {\n        console.error(\"Error during login:\", error);\n    }\n});\n// Logout Function\ndocument.getElementById(\"logout-btn\").addEventListener(\"click\", ()=>{\n    (0, $6FvfU.signOut)((0, $6FvfU.auth)).then(()=>{\n        localStorage.removeItem(\"email\");\n        console.log(\"User signed out\");\n        updateUI();\n    }).catch((error)=>console.error(\"Error during logout:\", error));\n});\n// Function to Save Recipes to Firestore\nasync function $c1ce9d969bfa6909$var$addRecipeToFirestore(name, ingredients, category) {\n    const email = JSON.parse(localStorage.getItem(\"email\")); // Get user email\n    if (!email) {\n        alert(\"You must be logged in to add recipes!\");\n        return;\n    }\n    try {\n        await (0, $6FvfU.addDoc)((0, $6FvfU.collection)((0, $6FvfU.db), \"recipes\"), {\n            email: email,\n            name: name,\n            ingredients: ingredients.split(\",\").map((i)=>i.trim()),\n            category: category\n        });\n        console.log(\"Recipe added successfully!\");\n        $c1ce9d969bfa6909$var$renderRecipes();\n    } catch (error) {\n        console.error(\"Error adding recipe:\", error);\n    }\n}\n// Function to Retrieve and Display Recipes from Firestore\nasync function $c1ce9d969bfa6909$var$renderRecipes() {\n    const email = JSON.parse(localStorage.getItem(\"email\")); // Get user email\n    if (!email) return;\n    const q = (0, $6FvfU.query)((0, $6FvfU.collection)((0, $6FvfU.db), \"recipes\"), (0, $6FvfU.where)(\"email\", \"==\", email));\n    const data = await (0, $6FvfU.getDocs)(q);\n    const recipesList = document.getElementById(\"recipes\");\n    recipesList.innerHTML = \"\"; // Clear list before rendering\n    data.forEach((docSnap)=>{\n        const recipe = docSnap.data();\n        const recipeId = docSnap.id;\n        const li = document.createElement(\"li\");\n        li.innerHTML = `<strong>${recipe.name}</strong> - ${recipe.ingredients.join(\", \")} (${recipe.category})`;\n        const editBtn = document.createElement(\"button\");\n        editBtn.textContent = \"Edit\";\n        editBtn.addEventListener(\"click\", ()=>$c1ce9d969bfa6909$var$editRecipe(recipeId, recipe.name, recipe.ingredients.join(\", \"), recipe.category));\n        const deleteBtn = document.createElement(\"button\");\n        deleteBtn.textContent = \"Delete\";\n        deleteBtn.addEventListener(\"click\", ()=>$c1ce9d969bfa6909$var$deleteRecipe(recipeId));\n        li.appendChild(editBtn);\n        li.appendChild(deleteBtn);\n        recipesList.appendChild(li);\n    });\n}\n// Function to Delete a Recipe from Firestore\nasync function $c1ce9d969bfa6909$var$deleteRecipe(recipeId) {\n    if (confirm(\"Are you sure you want to delete this recipe?\")) try {\n        await (0, $6FvfU.deleteDoc)((0, $6FvfU.doc)((0, $6FvfU.db), \"recipes\", recipeId));\n        console.log(\"Recipe deleted successfully!\");\n        $c1ce9d969bfa6909$var$renderRecipes();\n    } catch (error) {\n        console.error(\"Error deleting recipe:\", error);\n    }\n}\n// Function to Edit a Recipe\nasync function $c1ce9d969bfa6909$var$editRecipe(recipeId, currentName, currentIngredients, currentCategory) {\n    const newName = prompt(\"Enter new recipe name:\", currentName);\n    const newIngredients = prompt(\"Enter new ingredients (comma-separated):\", currentIngredients);\n    const newCategory = prompt(\"Enter new category:\", currentCategory);\n    if (newName && newIngredients) try {\n        await (0, $6FvfU.updateDoc)((0, $6FvfU.doc)((0, $6FvfU.db), \"recipes\", recipeId), {\n            name: newName,\n            ingredients: newIngredients.split(\",\").map((i)=>i.trim()),\n            category: newCategory\n        });\n        console.log(\"Recipe updated successfully!\");\n        $c1ce9d969bfa6909$var$renderRecipes();\n    } catch (error) {\n        console.error(\"Error updating recipe:\", error);\n    }\n    else alert(\"Recipe name and ingredients cannot be empty!\");\n}\n// Event Listener for \"Add Recipe\" Button\ndocument.getElementById(\"add-recipe\").addEventListener(\"click\", ()=>{\n    const name = document.getElementById(\"recipe-name\").value.trim();\n    const ingredients = document.getElementById(\"recipe-ingredients\").value.trim();\n    const category = document.getElementById(\"recipe-category\").value;\n    if (name && ingredients) {\n        $c1ce9d969bfa6909$var$addRecipeToFirestore(name, ingredients, category);\n        document.getElementById(\"recipe-name\").value = \"\";\n        document.getElementById(\"recipe-ingredients\").value = \"\";\n    } else alert(\"Please enter a recipe name and ingredients.\");\n});\n// AI Chatbot Functionality\nasync function $c1ce9d969bfa6909$var$getAIResponse(userInput) {\n    const requestBody = {\n        contents: [\n            {\n                parts: [\n                    {\n                        text: `You are an AI assistant for a Recipe Organizer app. Answer questions about its functionality and provide suggestions. Question: ${userInput}`\n                    }\n                ]\n            }\n        ]\n    };\n    try {\n        const response = await fetch(`${(0, $6FvfU.AI_API_URL)}?key=${(0, $6FvfU.AI_API_KEY)}`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(requestBody)\n        });\n        const data = await response.json();\n        if (data.candidates && data.candidates.length > 0) {\n            let aiText = data.candidates[0].content.parts[0].text;\n            aiText = aiText.replace(/\\*\\*(.*?)\\*\\*/g, \"<strong>$1</strong>\").replace(/\\n/g, \"<br>\");\n            return aiText;\n        } else return \"<strong>Sorry!</strong> I couldn't answer that. Try a different question!\";\n    } catch (error) {\n        console.error(\"Error fetching AI response:\", error);\n        return \"<strong>Error fetching response.</strong> Please try again.\";\n    }\n}\n// Handle User Input in Chatbot\ndocument.getElementById(\"chat-send\").addEventListener(\"click\", async ()=>{\n    const userInput = document.getElementById(\"chat-input\").value.trim();\n    if (!userInput) return;\n    addMessageToChatbox(\"You\", userInput);\n    document.getElementById(\"chat-input\").value = \"Thinking...\";\n    const aiResponse = await $c1ce9d969bfa6909$var$getAIResponse(userInput);\n    document.getElementById(\"chat-input\").value = \"\";\n    addMessageToChatbox(\"AI\", aiResponse);\n});\nvar $bd3448f0402fa5cf$exports = {};\n$bd3448f0402fa5cf$exports = new URL(\"service-worker.b94753ee.js\", import.meta.url).toString();\n\n\n// Service Worker Function\nconst $c1ce9d969bfa6909$var$sw = new URL($bd3448f0402fa5cf$exports);\nif ('serviceWorker' in navigator) {\n    const s = navigator.serviceWorker;\n    s.register($c1ce9d969bfa6909$var$sw.href, {\n        scope: '/RecipeOrganizer/'\n    }).then((_)=>console.log('Service Worker Registered for scope:', $c1ce9d969bfa6909$var$sw.href, 'with', \"file:///script.js\")).catch((err)=>console.error('Service Worker Error:', err));\n}\n// Load Recipes and UI on Page Load\ndocument.addEventListener(\"DOMContentLoaded\", updateUI);\n\n\n//# sourceMappingURL=index.443938a7.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"5SCbD\\\",\\\"index.443938a7.js\\\",\\\"ivUfc\\\",\\\"service-worker.b94753ee.js\\\"]\"));","import { db, collection, addDoc, getDocs, deleteDoc, doc, updateDoc, query, where } from \"./firebase.js\";\r\nimport { auth, provider, signInWithPopup, signOut, AI_API_KEY, AI_API_URL } from \"./firebase.js\"; // Import authentication functions\r\n\r\n// Login Function (Google Sign-In)\r\ndocument.getElementById(\"login-btn\").addEventListener(\"click\", async () => {\r\n    try {\r\n        const result = await signInWithPopup(auth, provider);\r\n        localStorage.setItem(\"email\", JSON.stringify(result.user.email));\r\n        console.log(\"User signed in:\", result.user.email);\r\n        updateUI();\r\n    } catch (error) {\r\n        console.error(\"Error during login:\", error);\r\n    }\r\n});\r\n\r\n// Logout Function\r\ndocument.getElementById(\"logout-btn\").addEventListener(\"click\", () => {\r\n    signOut(auth).then(() => {\r\n        localStorage.removeItem(\"email\");\r\n        console.log(\"User signed out\");\r\n        updateUI();\r\n    }).catch(error => console.error(\"Error during logout:\", error));\r\n});\r\n\r\n// Function to Save Recipes to Firestore\r\nasync function addRecipeToFirestore(name, ingredients, category) {\r\n    const email = JSON.parse(localStorage.getItem(\"email\")); // Get user email\r\n    if (!email) {\r\n        alert(\"You must be logged in to add recipes!\");\r\n        return;\r\n    }\r\n\r\n    try {\r\n        await addDoc(collection(db, \"recipes\"), {\r\n            email: email,\r\n            name: name,\r\n            ingredients: ingredients.split(\",\").map(i => i.trim()), // Convert string to array\r\n            category: category\r\n        });\r\n\r\n        console.log(\"Recipe added successfully!\");\r\n        renderRecipes();\r\n    } catch (error) {\r\n        console.error(\"Error adding recipe:\", error);\r\n    }\r\n}\r\n\r\n// Function to Retrieve and Display Recipes from Firestore\r\nasync function renderRecipes() {\r\n    const email = JSON.parse(localStorage.getItem(\"email\")); // Get user email\r\n    if (!email) return;\r\n\r\n    const q = query(collection(db, \"recipes\"), where(\"email\", \"==\", email));\r\n    const data = await getDocs(q);\r\n    const recipesList = document.getElementById(\"recipes\");\r\n    recipesList.innerHTML = \"\"; // Clear list before rendering\r\n\r\n    data.forEach((docSnap) => {\r\n        const recipe = docSnap.data();\r\n        const recipeId = docSnap.id;\r\n\r\n        const li = document.createElement(\"li\");\r\n        li.innerHTML = `<strong>${recipe.name}</strong> - ${recipe.ingredients.join(\", \")} (${recipe.category})`;\r\n\r\n        const editBtn = document.createElement(\"button\");\r\n        editBtn.textContent = \"Edit\";\r\n        editBtn.addEventListener(\"click\", () => editRecipe(recipeId, recipe.name, recipe.ingredients.join(\", \"), recipe.category));\r\n\r\n        const deleteBtn = document.createElement(\"button\");\r\n        deleteBtn.textContent = \"Delete\";\r\n        deleteBtn.addEventListener(\"click\", () => deleteRecipe(recipeId));\r\n\r\n        li.appendChild(editBtn);\r\n        li.appendChild(deleteBtn);\r\n        recipesList.appendChild(li);\r\n    });\r\n}\r\n\r\n// Function to Delete a Recipe from Firestore\r\nasync function deleteRecipe(recipeId) {\r\n    if (confirm(\"Are you sure you want to delete this recipe?\")) {\r\n        try {\r\n            await deleteDoc(doc(db, \"recipes\", recipeId));\r\n            console.log(\"Recipe deleted successfully!\");\r\n            renderRecipes();\r\n        } catch (error) {\r\n            console.error(\"Error deleting recipe:\", error);\r\n        }\r\n    }\r\n}\r\n\r\n// Function to Edit a Recipe\r\nasync function editRecipe(recipeId, currentName, currentIngredients, currentCategory) {\r\n    const newName = prompt(\"Enter new recipe name:\", currentName);\r\n    const newIngredients = prompt(\"Enter new ingredients (comma-separated):\", currentIngredients);\r\n    const newCategory = prompt(\"Enter new category:\", currentCategory);\r\n\r\n    if (newName && newIngredients) {\r\n        try {\r\n            await updateDoc(doc(db, \"recipes\", recipeId), {\r\n                name: newName,\r\n                ingredients: newIngredients.split(\",\").map(i => i.trim()),\r\n                category: newCategory\r\n            });\r\n            console.log(\"Recipe updated successfully!\");\r\n            renderRecipes();\r\n        } catch (error) {\r\n            console.error(\"Error updating recipe:\", error);\r\n        }\r\n    } else {\r\n        alert(\"Recipe name and ingredients cannot be empty!\");\r\n    }\r\n}\r\n\r\n// Event Listener for \"Add Recipe\" Button\r\ndocument.getElementById(\"add-recipe\").addEventListener(\"click\", () => {\r\n    const name = document.getElementById(\"recipe-name\").value.trim();\r\n    const ingredients = document.getElementById(\"recipe-ingredients\").value.trim();\r\n    const category = document.getElementById(\"recipe-category\").value;\r\n\r\n    if (name && ingredients) {\r\n        addRecipeToFirestore(name, ingredients, category);\r\n        document.getElementById(\"recipe-name\").value = \"\";\r\n        document.getElementById(\"recipe-ingredients\").value = \"\";\r\n    } else {\r\n        alert(\"Please enter a recipe name and ingredients.\");\r\n    }\r\n});\r\n\r\n// AI Chatbot Functionality\r\nasync function getAIResponse(userInput) {\r\n    const requestBody = {\r\n        contents: [{ parts: [{ text: `You are an AI assistant for a Recipe Organizer app. Answer questions about its functionality and provide suggestions. Question: ${userInput}` }] }]\r\n    };\r\n\r\n    try {\r\n        const response = await fetch(`${AI_API_URL}?key=${AI_API_KEY}`, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify(requestBody)\r\n        });\r\n\r\n        const data = await response.json();\r\n        if (data.candidates && data.candidates.length > 0) {\r\n            let aiText = data.candidates[0].content.parts[0].text;\r\n            aiText = aiText.replace(/\\*\\*(.*?)\\*\\*/g, \"<strong>$1</strong>\").replace(/\\n/g, \"<br>\");\r\n            return aiText;\r\n        } else {\r\n            return \"<strong>Sorry!</strong> I couldn't answer that. Try a different question!\";\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error fetching AI response:\", error);\r\n        return \"<strong>Error fetching response.</strong> Please try again.\";\r\n    }\r\n}\r\n\r\n// Handle User Input in Chatbot\r\ndocument.getElementById(\"chat-send\").addEventListener(\"click\", async () => {\r\n    const userInput = document.getElementById(\"chat-input\").value.trim();\r\n    if (!userInput) return;\r\n\r\n    addMessageToChatbox(\"You\", userInput);\r\n    document.getElementById(\"chat-input\").value = \"Thinking...\";\r\n\r\n    const aiResponse = await getAIResponse(userInput);\r\n    document.getElementById(\"chat-input\").value = \"\";\r\n    addMessageToChatbox(\"AI\", aiResponse);\r\n});\r\n\r\n// Service Worker Function\r\nconst sw = new URL('service-worker.js', import.meta.url)\r\nif ('serviceWorker' in navigator) {\r\n const s = navigator.serviceWorker;\r\n s.register(sw.href, {\r\n scope: '/RecipeOrganizer/'\r\n })\r\n .then(_ => console.log('Service Worker Registered for scope:', sw.href,\r\n'with', import.meta.url))\r\n .catch(err => console.error('Service Worker Error:', err));\r\n}\r\n\r\n\r\n// Load Recipes and UI on Page Load\r\ndocument.addEventListener(\"DOMContentLoaded\", updateUI);","module.exports = new __parcel__URL__(\"service-worker.b94753ee.js\").toString();"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$18c11f3350a906ea$export$6503ec6e8aabbaf","set","v","enumerable","configurable","$18c11f3350a906ea$var$mapping","Map","baseUrl","manifest","i","length","path","URL","url","toString","JSON","parse","$6FvfU","$c1ce9d969bfa6909$var$addRecipeToFirestore","name","ingredients","category","email","localStorage","getItem","alert","addDoc","collection","db","split","map","trim","console","log","$c1ce9d969bfa6909$var$renderRecipes","error","q","query","where","data","getDocs","recipesList","document","getElementById","innerHTML","forEach","docSnap","recipe","recipeId","li","createElement","join","editBtn","textContent","addEventListener","$c1ce9d969bfa6909$var$editRecipe","deleteBtn","$c1ce9d969bfa6909$var$deleteRecipe","appendChild","confirm","deleteDoc","doc","currentName","currentIngredients","currentCategory","newName","prompt","newIngredients","newCategory","updateDoc","$c1ce9d969bfa6909$var$getAIResponse","userInput","requestBody","contents","parts","text","response","fetch","AI_API_URL","AI_API_KEY","method","headers","body","stringify","json","candidates","aiText","content","replace","result","signInWithPopup","auth","provider","setItem","user","updateUI","signOut","then","removeItem","catch","value","addMessageToChatbox","aiResponse","$bd3448f0402fa5cf$exports","$c1ce9d969bfa6909$var$sw","navigator","s","serviceWorker","href","scope","_"],"version":3,"file":"index.443938a7.js.map"}