var e=globalThis,t={},r={},n=e.parcelRequire94c2;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},e.parcelRequire94c2=n),(0,n.register)("27Lyk",function(e,t){Object.defineProperty(e.exports,"register",{get:()=>r,set:e=>r=e,enumerable:!0,configurable:!0});var r,n=new Map;r=function(e,t){for(var r=0;r<t.length-1;r+=2)n.set(t[r],{baseUrl:e,path:t[r+1]})}}),n("27Lyk").register(new URL("",import.meta.url).toString(),JSON.parse('["jxkUt","index.17bef718.js","LVq70","service-worker.19645845.js"]'));var o=n("6FvfU");async function i(e,t,r){let n=JSON.parse(localStorage.getItem("email"));if(!n){alert("You must be logged in to add recipes!");return}try{await (0,o.addDoc)((0,o.collection)(o.db,"recipes"),{email:n,name:e,ingredients:t.split(",").map(e=>e.trim()),category:r}),console.log("Recipe added successfully!"),a()}catch(e){console.error("Error adding recipe:",e)}}async function a(){let e=JSON.parse(localStorage.getItem("email"));if(!e)return;let t=(0,o.query)((0,o.collection)(o.db,"recipes"),(0,o.where)("email","==",e)),r=await (0,o.getDocs)(t),n=document.getElementById("recipes");n.innerHTML="",r.forEach(e=>{let t=e.data(),r=e.id,o=document.createElement("li");o.innerHTML=`<strong>${t.name}</strong> - ${t.ingredients.join(", ")} (${t.category})`;let i=document.createElement("button");i.textContent="Edit",i.addEventListener("click",()=>s(r,t.name,t.ingredients.join(", "),t.category));let a=document.createElement("button");a.textContent="Delete",a.addEventListener("click",()=>c(r)),o.appendChild(i),o.appendChild(a),n.appendChild(o)})}async function c(e){if(confirm("Are you sure you want to delete this recipe?"))try{await (0,o.deleteDoc)((0,o.doc)(o.db,"recipes",e)),console.log("Recipe deleted successfully!"),a()}catch(e){console.error("Error deleting recipe:",e)}}async function s(e,t,r,n){let i=prompt("Enter new recipe name:",t),c=prompt("Enter new ingredients (comma-separated):",r),s=prompt("Enter new category:",n);if(i&&c)try{await (0,o.updateDoc)((0,o.doc)(o.db,"recipes",e),{name:i,ingredients:c.split(",").map(e=>e.trim()),category:s}),console.log("Recipe updated successfully!"),a()}catch(e){console.error("Error updating recipe:",e)}else alert("Recipe name and ingredients cannot be empty!")}async function l(e){let t={contents:[{parts:[{text:`You are an AI assistant for a Recipe Organizer app. Answer questions about its functionality and provide suggestions. Question: ${e}`}]}]};try{let e=await fetch(`${o.AI_API_URL}?key=${o.AI_API_KEY}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await e.json();if(!r.candidates||!(r.candidates.length>0))return"<strong>Sorry!</strong> I couldn't answer that. Try a different question!";{let e=r.candidates[0].content.parts[0].text;return e=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br>")}}catch(e){return console.error("Error fetching AI response:",e),"<strong>Error fetching response.</strong> Please try again."}}document.getElementById("login-btn").addEventListener("click",async()=>{try{let e=await (0,o.signInWithPopup)(o.auth,o.provider);localStorage.setItem("email",JSON.stringify(e.user.email)),console.log("User signed in:",e.user.email),updateUI()}catch(e){console.error("Error during login:",e)}}),document.getElementById("logout-btn").addEventListener("click",()=>{(0,o.signOut)(o.auth).then(()=>{localStorage.removeItem("email"),console.log("User signed out"),updateUI()}).catch(e=>console.error("Error during logout:",e))}),document.getElementById("add-recipe").addEventListener("click",()=>{let e=document.getElementById("recipe-name").value.trim(),t=document.getElementById("recipe-ingredients").value.trim(),r=document.getElementById("recipe-category").value;e&&t?(i(e,t,r),document.getElementById("recipe-name").value="",document.getElementById("recipe-ingredients").value=""):alert("Please enter a recipe name and ingredients.")}),document.getElementById("chat-send").addEventListener("click",async()=>{let e=document.getElementById("chat-input").value.trim();if(!e)return;addMessageToChatbox("You",e),document.getElementById("chat-input").value="Thinking...";let t=await l(e);document.getElementById("chat-input").value="",addMessageToChatbox("AI",t)});var d={};d=new URL("service-worker.19645845.js",import.meta.url).toString();const g=new URL(d);"serviceWorker"in navigator&&navigator.serviceWorker.register(g.href,{scope:"/RecipeOrganizer/"}).then(e=>console.log("Service Worker Registered for scope:",g.href,"with","file:///script.js")).catch(e=>console.error("Service Worker Error:",e)),document.addEventListener("DOMContentLoaded",updateUI);
//# sourceMappingURL=index.17bef718.js.map
